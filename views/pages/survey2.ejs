<%- include('../layouts/layout', {
    title: 'Household Profiling - Step 2',
    bodyClass: 'd-flex flex-column min-vh-100',
    headerType: 'survey',
    extraStyles: `
        <style>
            .form-card { background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
            .section-title { color: #457507; font-weight: 600; position: relative; padding-bottom: 10px; margin-bottom: 20px; }
            .section-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 60px; height: 3px; background: linear-gradient(90deg, #457507, #6ba32a); border-radius: 2px; }
            .form-label { font-weight: 500; color: #444; margin-bottom: 6px; }
            .form-control, .form-select { border-radius: 10px; border: 1.5px solid #e0e0e0; padding: 12px 16px; transition: all 0.2s ease; }
            .form-control:focus, .form-select:focus { border-color: #457507; box-shadow: 0 0 0 4px rgba(69, 117, 7, 0.1); }
            .member-card { background: #f8faf5; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px; margin-bottom: 16px; position: relative; transition: all 0.2s ease; }
            .member-card:hover { border-color: #457507; box-shadow: 0 4px 12px rgba(69, 117, 7, 0.15); }
            .member-card h6 { color: #457507; font-weight: 600; margin-bottom: 15px; }
            .remove-btn { position: absolute; top: 10px; right: 10px; background: #fee2e2; color: #dc2626; border: none; border-radius: 50%; width: 32px; height: 32px; cursor: pointer; transition: all 0.2s ease; }
            .remove-btn:hover { background: #dc2626; color: white; }
            .btn-modern { padding: 12px 32px; border-radius: 25px; font-weight: 600; transition: all 0.3s ease; }
            .btn-church-modern { background: linear-gradient(135deg, #457507 0%, #5a8f1a 100%); color: white; border: none; }
            .btn-church-modern:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(69, 117, 7, 0.35); color: white; }
            .role-badge { display: inline-block; padding: 6px 16px; background: #457507; color: white; border-radius: 20px; font-size: 0.85rem; font-weight: 600; margin-bottom: 15px; }
        </style>
    `,
    body: `
        <main class="flex-grow-1 d-flex">
            <div class="container-fluid bg-light py-4">
                <div class="row justify-content-center">
                    <div class="col-lg-11">
                        <div class="mb-4">
                            <div class="d-flex justify-content-between align-items-center mb-2">
                                <span class="text-muted fw-medium">Step 2 of 4</span>
                                <span class="text-muted">Primary Information</span>
                            </div>
                            <div class="progress-custom">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 50%; background: linear-gradient(90deg, #457507, #6ba32a)"></div>
                            </div>
                        </div>
                        
                        <form action="" method="POST" id="profilingForm">
                            <div class="parent-section">
                                <h4 class="section-title mb-4">Parents Profile</h4>
                                
                                <div class="row g-4">
                                    <div class="col-12 mb-3">
                                        <span class="role-badge">Household Head</span>
                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <label class="form-label">Full Name</label>
                                                <input type="text" name="head_name" class="form-control" placeholder="Enter full name" required>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Type of Marriage</label>
                                                <select name="head_marriage" class="form-select">
                                                    <option value="">Select...</option>
                                                    <option value="1">Civil</option>
                                                    <option value="2">Church</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Religion</label>
                                                <select name="head_religion" class="form-select" id="head_religion" onchange="toggleReligionOthers(this, 'head_religion_others')">
                                                    <option value="1">Roman Catholic</option>
                                                    <option value="2">Islam</option>
                                                    <option value="3">UCCP/Protestant</option>
                                                    <option value="4">Jehova's Witnesses</option>
                                                    <option value="6">Iglesia ni Cristo</option>
                                                    <option value="7">Four Square Church</option>
                                                    <option value="8">Seventh Day Adventist</option>
                                                    <option value="9">Mormons</option>
                                                    <option value="10">Born Again</option>
                                                    <option value="11">Bible Baptist</option>
                                                    <option value="12">Church of Christ</option>
                                                    <option value="13">Others Please Specify...</option>
                                                </select>
                                                <input type="text" name="head_religion_others" id="head_religion_others" class="form-control mt-2 d-none" placeholder="Please specify religion">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Sacraments</label>
                                                <div class="row g-2">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="1" id="head_sacrament_1">
                                                            <label class="form-check-label" for="head_sacrament_1">Not yet Baptized</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="2" id="head_sacrament_2">
                                                            <label class="form-check-label" for="head_sacrament_2">Baptism only</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="3" id="head_sacrament_3">
                                                            <label class="form-check-label" for="head_sacrament_3">Baptism & Confirmation</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="4" id="head_sacrament_4">
                                                            <label class="form-check-label" for="head_sacrament_4">First Holy Communion</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="5" id="head_sacrament_5">
                                                            <label class="form-check-label" for="head_sacrament_5">Holy Matrimony</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="6" id="head_sacrament_6">
                                                            <label class="form-check-label" for="head_sacrament_6">Holy Orders</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="head_sacraments[]" value="66" id="head_sacrament_66">
                                                            <label class="form-check-label" for="head_sacrament_66">Not Applicable</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Sex</label>
                                                <select name="head_sex" class="form-select">
                                                    <option value="1">Male</option>
                                                    <option value="2">Female</option>
                                                </select>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Age</label>
                                                <input type="number" name="head_age" class="form-control" placeholder="Age">
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Education</label>
                                                <select name="head_educ" class="form-select">
                                                    <option value="">Select...</option>
                                                    <option value="Pre-School">Pre-School</option>
                                                    <option value="Elementary">Elementary</option>
                                                    <option value="Junior High">Junior High</option>
                                                    <option value="Senior High">Senior High</option>
                                                    <option value="College">College</option>
                                                    <option value="Post-Graduate">Post-Graduate</option>
                                                </select>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Status of Work</label>
                                                <select name="head_work_status" class="form-select" id="head_work_status" onchange="toggleWorkStatusOthers(this, 'head_work_status_others')">
                                                    <option value="">Select...</option>
                                                    <option value="1">Regular/Permanent</option>
                                                    <option value="2">Contractual</option>
                                                    <option value="3">Seasonal/Short term</option>
                                                    <option value="4">Worker for different employers</option>
                                                    <option value="5">Others Please Specify...</option>
                                                    <option value="6">Not Applicable</option>
                                                </select>
                                                <input type="text" name="head_work_status_others" id="head_work_status_others" class="form-control mt-2 d-none" placeholder="Please specify work status">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Occupation</label>
                                                <select name="head_job" class="form-select" id="head_job" onchange="toggleOccupationInput(this, 'head_job_others')">
                                                    <option value="">Select...</option>
                                                    <option value="01">Farming</option>
                                                    <option value="02">Tenant</option>
                                                    <option value="03">Fishing</option>
                                                    <option value="04">Vending</option>
                                                    <option value="05">Hired Labor</option>
                                                    <option value="06">Employed</option>
                                                    <option value="07">OFW</option>
                                                    <option value="08">Domestic Worker</option>
                                                    <option value="09">Entertainment</option>
                                                    <option value="99">Others Please Specify...</option>
                                                </select>
                                                <input type="text" name="head_job_others" id="head_job_others" class="form-control mt-2 d-none" placeholder="Please specify occupation">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="col-12">
                                        <span class="role-badge" style="background: #6b8e23">Spouse</span>
                                        <div class="row g-3">
                                            <div class="col-md-4">
                                                <label class="form-label">Full Name</label>
                                                <input type="text" name="spouse_name" class="form-control" placeholder="Enter full name">
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Type of Marriage</label>
                                                <select name="spouse_marriage" class="form-select">
                                                    <option value="">Select...</option>
                                                    <option value="1">Civil</option>
                                                    <option value="2">Church</option>
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Religion</label>
                                                <select name="spouse_religion" class="form-select" id="spouse_religion" onchange="toggleReligionOthers(this, 'spouse_religion_others')">
                                                    <option value="1">Roman Catholic</option>
                                                    <option value="2">Islam</option>
                                                    <option value="3">UCCP/Protestant</option>
                                                    <option value="4">Jehova's Witnesses</option>
                                                    <option value="6">Iglesia ni Cristo</option>
                                                    <option value="7">Four Square Church</option>
                                                    <option value="8">Seventh Day Adventist</option>
                                                    <option value="9">Mormons</option>
                                                    <option value="10">Born Again</option>
                                                    <option value="11">Bible Baptist</option>
                                                    <option value="12">Church of Christ</option>
                                                    <option value="99">Others Please Specify...</option>
                                                </select>
                                                <input type="text" name="spouse_religion_others" id="spouse_religion_others" class="form-control mt-2 d-none" placeholder="Please specify religion">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Sacraments</label>
                                                <div class="row g-2">
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="1" id="spouse_sacrament_1">
                                                            <label class="form-check-label" for="spouse_sacrament_1">Not yet Baptized</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="2" id="spouse_sacrament_2">
                                                            <label class="form-check-label" for="spouse_sacrament_2">Baptism only</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="3" id="spouse_sacrament_3">
                                                            <label class="form-check-label" for="spouse_sacrament_3">Baptism & Confirmation</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="4" id="spouse_sacrament_4">
                                                            <label class="form-check-label" for="spouse_sacrament_4">First Holy Communion</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="5" id="spouse_sacrament_5">
                                                            <label class="form-check-label" for="spouse_sacrament_5">Holy Matrimony</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="6" id="spouse_sacrament_6">
                                                            <label class="form-check-label" for="spouse_sacrament_6">Holy Orders</label>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 col-sm-6">
                                                        <div class="form-check">
                                                            <input class="form-check-input" type="checkbox" name="spouse_sacraments[]" value="66" id="spouse_sacrament_66">
                                                            <label class="form-check-label" for="spouse_sacrament_66">Not Applicable</label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Sex</label>
                                                <select name="spouse_sex" class="form-select">
                                                    <option value="2">Female</option>
                                                    <option value="1">Male</option>
                                                </select>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Age</label>
                                                <input type="number" name="spouse_age" class="form-control" placeholder="Age">
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Education</label>
                                                <select name="spouse_educ" class="form-select">
                                                    <option value="">Select...</option>
                                                    <option value="Pre-School">Pre-School</option>
                                                    <option value="Elementary">Elementary</option>
                                                    <option value="Junior High">Junior High</option>
                                                    <option value="Senior High">Senior High</option>
                                                    <option value="College">College</option>
                                                    <option value="Post-Graduate">Post-Graduate</option>
                                                </select>
                                            </div>
                                            <div class="col-md-3">
                                                <label class="form-label">Status of Work</label>
                                                <select name="spouse_work_status" class="form-select" id="spouse_work_status" onchange="toggleWorkStatusOthers(this, 'spouse_work_status_others')">
                                                    <option value="">Select...</option>
                                                    <option value="1">Regular/Permanent</option>
                                                    <option value="2">Contractual</option>
                                                    <option value="3">Seasonal/Short term</option>
                                                    <option value="4">Worker for different employers</option>
                                                    <option value="5">Others Please Specify...</option>
                                                    <option value="6">Not Applicable</option>
                                                </select>
                                                <input type="text" name="spouse_work_status_others" id="spouse_work_status_others" class="form-control mt-2 d-none" placeholder="Please specify work status">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Occupation</label>
                                                <select name="spouse_job" class="form-select" id="spouse_job" onchange="toggleOccupationInput(this, 'spouse_job_others')">
                                                    <option value="">Select...</option>
                                                    <option value="01">Farming</option>
                                                    <option value="02">Tenant</option>
                                                    <option value="03">Fishing</option>
                                                    <option value="04">Vending</option>
                                                    <option value="05">Hired Labor</option>
                                                    <option value="06">Employed</option>
                                                    <option value="07">OFW</option>
                                                    <option value="08">Domestic Worker</option>
                                                    <option value="09">Entertainment</option>
                                                    <option value="99">Others Please Specify...</option>
                                                </select>
                                                <input type="text" name="spouse_job_others" id="spouse_job_others" class="form-control mt-2 d-none" placeholder="Please specify occupation">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-card p-4 mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <div>
                                        <h4 class="section-title mb-1">Name of Household Members</h4>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem">Order of listing:</p>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem">Never-Married Children of the Head/Spouse from the Oldest to the Youngest</p>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem">Ever-Married Children</p>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem">Other Relatives</p>
                                        <p class="text-muted mb-0" style="font-size: 0.9rem">Nonrelatives</p>
                                    </div>
                                    <button type="button" class="btn btn-church-modern btn-modern" onclick="addRow()">Add Member</button>
                                </div>
                                
                                <div id="membersContainer">
                                    <p class="text-muted text-center py-4">No additional household members yet. Click "Add Member" to add.</p>
                                </div>
                            </div>
                            
                            <div class="d-flex justify-content-between mt-4">
                                <button type="button" onclick="goPrev()" class="btn btn-outline-secondary btn-modern">Back</button>
                                <button type="button" onclick="goNext()" class="btn btn-church-modern btn-modern">Continue</button>
                            </div>
                            
                            <input type="hidden" name="form_source" value="primary_info">
                        </form>
                    </div>
                </div>
            </div>
        </main>
    `,
    extraScripts: `
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="/javascripts/form-validator.js"></script>
        <script src="/javascripts/survey2.js"></script>
    `
}) %>
