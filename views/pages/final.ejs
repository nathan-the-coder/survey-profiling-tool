<%- include('../layouts/layout', {
    title: 'Survey Preview',
    bodyClass: 'd-flex flex-column min-vh-100 bg-light',
    headerType: 'default',
    extraStyles: `
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
        <style>
            .form-card { background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
            .section-title { color: #457507; font-weight: 600; position: relative; padding-bottom: 10px; margin-bottom: 20px; }
            .section-title::after { content: ''; position: absolute; bottom: 0; left: 0; width: 60px; height: 3px; background: linear-gradient(90deg, #457507, #6ba32a); border-radius: 2px; }
            .preview-card { background: #f8faf5; border: 1.5px solid #e0e0e0; border-radius: 12px; padding: 20px; margin-bottom: 16px; }
            .preview-card:hover { border-color: #457507; }
            .preview-label { font-weight: 600; color: #555; font-size: 0.9rem; }
            .preview-value { color: #333; font-size: 0.9rem; }
            .btn-modern { padding: 12px 32px; border-radius: 25px; font-weight: 600; transition: all 0.3s ease; }
            .btn-church-modern { background: linear-gradient(135deg, #457507 0%, #5a8f1a 100%); color: white; border: none; }
            .btn-church-modern:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(69, 117, 7, 0.35); color: white; }
            .member-table { width: 100%; font-size: 0.85rem; border-radius: 10px; overflow: hidden; }
            .member-table th { background-color: #457507; color: white; padding: 10px; text-align: center; font-weight: 600; }
            .member-table td { padding: 8px; border: 1px solid #e0e0e0; text-align: center; background: white; }
            .member-table tr:nth-child(even) td { background: #f8faf5; }
            .member-table tr:hover td { background: #e8f5e0; }
        </style>`,
    body: `
        <main class="flex-fill py-4">
            <div class="container">
                <div class="mb-4">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="text-muted fw-medium">Survey Complete</span>
                        <span class="text-muted">Preview & Submit</span>
                    </div>
                    <div class="progress-custom" style="height: 8px; border-radius: 4px; background: #e9ecef;">
                        <div class="progress-bar" role="progressbar" style="width: 100%; background: linear-gradient(90deg, #457507, #6ba32a); border-radius: 4px;"></div>
                    </div>
                </div>
                
                <div class="form-card p-4 mb-4">
                    <h4 class="section-title">I. GENERAL INFORMATION</h4>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">BEC Purok-Gimong:</div>
                                    <div class="col-7 preview-value" id="gen-purokGimong">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Barangay Name:</div>
                                    <div class="col-7 preview-value" id="gen-barangayName">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Municipality:</div>
                                    <div class="col-7 preview-value" id="gen-municipalityselect">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Province:</div>
                                    <div class="col-7 preview-value" id="gen-provinceName">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Transportation:</div>
                                    <div class="col-7 preview-value" id="gen-modeOfTransportation">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-5 preview-label">Road Structure:</div>
                                    <div class="col-7 preview-value" id="gen-roadStructure">-</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Parish:</div>
                                    <div class="col-7 preview-value" id="gen-parish">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Diocese/Prelature:</div>
                                    <div class="col-7 preview-value" id="gen-diocese">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Year of Residency:</div>
                                    <div class="col-7 preview-value" id="gen-residency">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Family Members:</div>
                                    <div class="col-7 preview-value" id="gen-familyMembers">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-5 preview-label">Family Structure:</div>
                                    <div class="col-7 preview-value" id="gen-familyStructure">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-5 preview-label">Local Dialect:</div>
                                    <div class="col-7 preview-value" id="gen-dialect">-</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-card p-4 mb-4">
                    <h4 class="section-title">II. PRIMARY INFORMATION</h4>
                    <h6 class="fw-bold mt-3 mb-3" style="color: #6ba32a;">Parents Profile</h6>
                    <div class="table-responsive">
                        <table class="member-table">
                            <thead>
                                <tr>
                                    <th>Role</th>
                                    <th>Full Name</th>
                                    <th>Marriage</th>
                                    <th>Religion</th>
                                    <th>Sex</th>
                                    <th>Age</th>
                                    <th>Education</th>
                                    <th>Occupation</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="fw-bold">HH Head</td>
                                    <td id="head-name">-</td>
                                    <td id="head-marriage">-</td>
                                    <td id="head-religion">-</td>
                                    <td id="head-sex">-</td>
                                    <td id="head-age">-</td>
                                    <td id="head-educ">-</td>
                                    <td id="head-job">-</td>
                                    <td id="head-work">-</td>
                                </tr>
                                <tr>
                                    <td class="fw-bold">Spouse</td>
                                    <td id="spouse-name">-</td>
                                    <td id="spouse-marriage">-</td>
                                    <td id="spouse-religion">-</td>
                                    <td id="spouse-sex">-</td>
                                    <td id="spouse-age">-</td>
                                    <td id="spouse-educ">-</td>
                                    <td id="spouse-job">-</td>
                                    <td id="spouse-work">-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <h6 class="fw-bold mt-4 mb-3" style="color: #6ba32a;">Household Members</h6>
                    <div class="table-responsive">
                        <table class="member-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Relation</th>
                                    <th>Sex</th>
                                    <th>Age</th>
                                    <th>Civil Status</th>
                                    <th>Religion</th>
                                    <th>Sacraments</th>
                                    <th>Studying</th>
                                    <th>Education</th>
                                    <th>Occupation</th>
                                    <th>Status</th>
                                    <th>Immunized</th>
                                </tr>
                            </thead>
                            <tbody id="membersTable"></tbody>
                        </table>
                    </div>
                </div>
                
                <div class="form-card p-4 mb-4">
                    <h4 class="section-title">III. HEALTH AND LIVING CONDITIONS</h4>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Common Illnesses:</div>
                                    <div class="col-6 preview-value" id="health-illness">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Treatment Source:</div>
                                    <div class="col-6 preview-value" id="health-treatment">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Water Source:</div>
                                    <div class="col-6 preview-value" id="health-water">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Lighting:</div>
                                    <div class="col-6 preview-value" id="health-lighting">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-6 preview-label">Cooking:</div>
                                    <div class="col-6 preview-value" id="health-cooking">-</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Garbage Disposal:</div>
                                    <div class="col-6 preview-value" id="health-garbage">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Toilet Facility:</div>
                                    <div class="col-6 preview-value" id="health-toilet">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-6 preview-label">Water to Toilet Distance:</div>
                                    <div class="col-6 preview-value" id="health-toiletDist">-</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-card p-4 mb-4">
                    <h4 class="section-title">IV. SOCIO-ECONOMIC AND INFRASTRUCTURE</h4>
                    <div class="row g-4">
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Income/Month:</div>
                                    <div class="col-6 preview-value" id="soc-income">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Expenses/Week:</div>
                                    <div class="col-6 preview-value" id="soc-expenses">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Has Savings:</div>
                                    <div class="col-6 preview-value" id="soc-savings">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Savings Location:</div>
                                    <div class="col-6 preview-value" id="soc-savingsLoc">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">House/Lot Ownership:</div>
                                    <div class="col-6 preview-value" id="soc-ownership">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">House Classification:</div>
                                    <div class="col-6 preview-value" id="soc-houseClass">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-6 preview-label">Land Area (ha):</div>
                                    <div class="col-6 preview-value" id="soc-landArea">-</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="preview-card">
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Appliances/Vehicle:</div>
                                    <div class="col-6 preview-value" id="soc-assets">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Livestock Owned:</div>
                                    <div class="col-6 preview-value" id="soc-livestock">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Livestock for Others:</div>
                                    <div class="col-6 preview-value" id="soc-livestockOther">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Organizations:</div>
                                    <div class="col-6 preview-value" id="soc-organizations">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Distance to Church:</div>
                                    <div class="col-6 preview-value" id="soc-church">-</div>
                                </div>
                                <div class="row mb-2">
                                    <div class="col-6 preview-label">Distance to Market:</div>
                                    <div class="col-6 preview-value" id="soc-market">-</div>
                                </div>
                                <div class="row">
                                    <div class="col-6 preview-label">Missionary Companion:</div>
                                    <div class="col-6 preview-value" id="soc-companion">-</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="d-flex justify-content-between mt-4">
                    <button type="button" onclick="editSurvey()" class="btn btn-outline-secondary btn-modern">Back to Edit</button>
                    <button type="button" onclick="submitSurvey()" class="btn btn-church-modern btn-modern">Confirm & Submit</button>
                </div>
            </div>
        </main>
    `,
    extraScripts: `
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios@1.13.5/dist/axios.min.js"></script>
        <script src="/javascripts/final.js"></script>
    `
}) %>
